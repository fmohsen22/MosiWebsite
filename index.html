<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta content="width=device-width, initial-scale=1.0" name="viewport">
    <title>Envisage Cosmetic Clinic</title>
    <style>
        /* General Styling */
        body {
            font-family: Arial, sans-serif;
            background-color: #FAEBD7;
            margin: 0;
            padding: 0;
            color: #333;
        }

        /* Header with Logo */
        header {
            background-color: #5a4023;
            color: #d4af37;
            padding: 20px;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .logo {
            height: 150px; /* Increase height */
            width: auto;   /* Keep proportions */
            margin-right: 10px;
        }


        h1 {
            margin: 0;
            font-size: 3em;
            flex-grow: 1;
            text-align: center;
        }

        /* Navigation Menu */
        nav {
            background-color: #bfb091;
            padding: 10px 0;
        }

        nav ul {
            list-style-type: none;
            margin: 0;
            padding: 0;
            display: flex;
            justify-content: center;
            gap: 20px;
        }

        nav ul li a {
            color: #333;
            text-decoration: none;
            font-size: 1.2em;
            padding: 10px;
        }

        nav ul li a:hover {
            text-decoration: underline;
        }

        /* Hero Section Styling */
        .hero-section {
            position: relative;
            text-align: center;
            color: white;
            height: 60vh;
            overflow: hidden;
        }

        .hero-overlay {
            background: rgba(0, 0, 0, 0.4);
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
        }

        .hero-image {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .hero-text {
            font-size: 2em;
            margin: 0;
            padding: 10px;
        }

        /* Clocks Section */
        .clock-container {
            display: flex;
            justify-content: center;
            gap: 30px;
            margin: 20px 0;
        }

        .clock {
            font-size: 1.2em;
            font-weight: bold;
            background-color: #d2b48c;
            color: #333;
            padding: 10px 20px;
            border-radius: 8px;
        }

        /* Chat Widget Styles */
        .chat-widget {
            position: fixed;
            bottom: 20px;
            right: 20px;
            z-index: 1000;
        }

        .chat-button {
            background-color: #333;
            color: white;
            border: none;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            font-size: 1.5em;
            cursor: pointer;
            box-shadow: 0px 4px 8px rgba(0, 0, 0, 0.2);
        }

        .chat-modal {
            display: none;
            position: fixed;
            bottom: 80px;
            right: 20px;
            width: 300px;
            max-width: 90%;
            background-color: #fff;
            border-radius: 8px;
            box-shadow: 0px 4px 10px rgba(0, 0, 0, 0.2);
            z-index: 1001;
            flex-direction: column;
            overflow: hidden;
        }

        .chat-modal.show {
            display: flex;
        }

        .chat-modal-header {
            background-color: #333;
            color: white;
            padding: 10px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .chat-messages {
            padding: 10px;
            height: 200px;
            overflow-y: auto;
        }

        .chat-input-container {
            display: flex;
            padding: 10px;
            border-top: 1px solid #ddd;
        }

        .chat-input-container input {
            flex: 1;
            padding: 8px;
            border: 1px solid #ccc;
            border-radius: 4px;
        }

        .chat-input-container button {
            background-color: #333;
            color: white;
            border: none;
            padding: 8px 12px;
            margin-left: 5px;
            border-radius: 4px;
            cursor: pointer;
        }

/* Popular Treatments Section */
.popular-treatments {
    padding: 40px 20px;
    background-color: #f9f7f2; /* Light background color */
    text-align: center;
}

.popular-treatments h2 {
    font-size: 2em;
    margin-bottom: 30px;
    color: #5a4023;
}

.treatment-item {
    display: flex;
    flex-wrap: wrap; /* For responsiveness */
    align-items: center;
    gap: 20px;
    margin-bottom: 30px;
}

.treatment-photo {
    flex: 1;
    max-width: 40%;
    text-align: center;
}

.treatment-photo img {
    width: 100%; /* Adjust to container width */
    height: 300px; /* Fixed height for uniformity */
    object-fit: cover; /* Maintain aspect ratio and fill the space */
    border-radius: 8px;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
}

.treatment-description {
    flex: 2;
    max-width: 60%;
    text-align: left;
    color: #333;
}

.treatment-description h3 {
    font-size: 1.8em;
    margin-bottom: 10px;
    color: #5a4023;
}

.treatment-description p {
    font-size: 1.2em;
    line-height: 1.6;
}

/* Responsive Adjustments */
@media (max-width: 768px) {
    .treatment-item {
        flex-direction: column; /* Stack items vertically on small screens */
        text-align: center;
    }
    .treatment-photo,
    .treatment-description {
        max-width: 100%;
    }
    .treatment-description h3 {
        font-size: 1.5em;
    }
    .treatment-description p {
        font-size: 1em;
    }
}

/* Navigation Buttons */
button.prev,
button.next {
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
    background-color: rgba(0, 0, 0, 0.5);
    color: #fff;
    border: none;
    padding: 10px;
    cursor: pointer;
    border-radius: 50%;
}

button.prev {
    left: 10px;
}

button.next {
    right: 10px;
}

button.prev:hover,
button.next:hover {
    background-color: rgba(0, 0, 0, 0.8);
}
/* Timing and Weather Block Styling */
.info-container {
    display: flex;
    justify-content: space-between;
    align-items: stretch; /* Ensures all children stretch to the same height */
    gap: 20px;
    margin: 20px auto;
    max-width: 90%; /* Keeps everything responsive */
    flex-wrap: wrap; /* Adjusts for smaller screens */
}

.clock-container,
.weather-forecast,
.traffic-info,
.important-info {
    display: flex;
    flex-direction: column;
    justify-content: flex-start; /* Align content to the top */
    padding: 20px;
    border-radius: 8px;
    background-color: #d2b48c;
    min-height: 200px; /* Ensures all blocks have the same height */
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1); /* Consistent shadow */
}

.clock-container {
    flex: 1; /* Share equal space */
    max-width: 250px;
    background: linear-gradient(135deg, #fdf6e3, #d2b48c); /* Soft gradient */
    color: #333;
    padding: 15px;
    border-radius: 12px;
    text-align: center;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    box-sizing: border-box; /* Includes padding in the height calculation */
    display: flex;
    flex-direction: column;
    justify-content: flex-start; /* Align content to the top */
    align-items: center;
    min-height: 200px; /* Consistent height with other blocks */
    margin: 0; /* Remove any margin affecting alignment */
}

.info-container {
    display: flex;
    justify-content: space-between;
    align-items: stretch; /* Aligns all items to start at the same level */
    gap: 20px;
    margin: 20px auto;
    max-width: 90%;
    flex-wrap: wrap;
    min-height: 200px; /* Ensures all blocks align to the same height */
}

.weather-forecast {
    flex: 1; /* Share space with other blocks */
    max-width: 250px;
    text-align: center;
}

.traffic-info {
    flex: 2; /* Make the traffic block larger */
    text-align: left;
}

.important-info {
    flex: 1;
    max-width: 250px;
    background-color: #f4c2c2;
    border: 2px solid #d33;
    text-align: center;
}

/* Reset Margins for Text Elements */
.clock-container .clock-item,
.weather-forecast h3,
.traffic-info h3,
.important-info h3 {
    margin: 0; /* Reset default margin */
    line-height: 1.5; /* Consistent spacing */
}

    .important-info {
        background-color: #d2b48c;
        color: #fff;
        padding: 15px;
        border-radius: 5px;
        text-align: left; /* Align text to the left */
    }

.important-info {
    flex: 1;
    max-width: 300px;
    background: linear-gradient(135deg, #d4af37, #b5651d); /* Gold to soft brown gradient */
    color: #000; /* Default text color */
    border: 2px solid #d4af37; /* Golden border */
    border-radius: 12px; /* Rounded corners */
    padding: 20px;
    text-align: left; /* Align text to the left */
    box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2); /* Subtle shadow for depth */
    transition: transform 0.2s, box-shadow 0.2s; /* Animation for hover effect */
}

.important-info:hover {
    transform: scale(1.02); /* Slightly enlarge on hover */
    box-shadow: 0 12px 24px rgba(0, 0, 0, 0.3); /* Enhance shadow on hover */
}

.important-info h3 {
    color: #ffffff; /* Keep the header text white */
    text-align: center; /* Center the header */
    margin-bottom: 10px;
}

.important-info p {
    font-size: 1.1em; /* Slightly larger text */
    margin: 10px 0; /* Space between lines */
    line-height: 1.6; /* Improve readability */
    text-align: left; /* Keep text aligned to the left */
}


        //for mobile phone
        /* General Styling - Maintain existing styles for desktop */

/* Responsive Design for Mobile */
@media (max-width: 768px) {
    /* Header */
    header {
        flex-direction: column; /* Stack logo and title vertically */
        align-items: center; /* Center align for mobile */
    }

    .logo {
        height: 100px; /* Reduce logo size */
        margin: 0 auto 10px; /* Center and add spacing below */
    }

    h1 {
        font-size: 2em; /* Reduce header font size */
        text-align: center;
    }

    /* Navigation Menu */
    nav ul {
        flex-direction: column; /* Stack navigation links vertically */
        gap: 10px; /* Add spacing between links */
    }

    nav ul li a {
        font-size: 1em; /* Reduce font size */
        padding: 8px; /* Reduce padding */
    }

    /* Hero Section */
    .hero-section {
        height: 40vh; /* Reduce height for mobile */
    }

    .hero-text {
        font-size: 1.5em; /* Adjust font size */
    }

    /* Info Container */
    .info-container {
        flex-direction: column; /* Stack info blocks vertically */
        align-items: center; /* Center align blocks */
    }

    .info-container > div {
        max-width: 100%; /* Full width for each block */
        margin-bottom: 15px; /* Add spacing between blocks */
    }

    /* Important Info */
    .important-info {
        max-width: 100%; /* Full width */
        padding: 15px; /* Adjust padding */
    }

    .important-info h3 {
        font-size: 1.5em; /* Adjust font size */
        margin-bottom: 10px;
    }

    .important-info p {
        font-size: 1em; /* Adjust text size for readability */
    }

    /* Photo Album */
    .photo-album {
        max-width: 100%; /* Full width for mobile */
    }

    .photo-album img {
        height: auto; /* Ensure images resize correctly */
    }

    /* Chat Widget */
    .chat-widget {
        bottom: 10px;
        right: 10px;
        width: 40px; /* Adjust size for mobile */
        height: 40px;
    }

    .chat-button {
        width: 40px;
        height: 40px;
        font-size: 1.2em;
    }

    /* Other Adjustments */
    .clock-container {
        flex-direction: column; /* Stack clock items vertically */
        gap: 15px; /* Adjust spacing */
        text-align: center; /* Center align text */
    }
}
    </style>
</head>
<body>

<!-- Header with Logo and Title -->
<header>
    <img alt="Clinic Logo" class="logo" src="logo.png"> <!-- Replace with logo path -->
    <h1>Envisage Cosmetic Clinic</h1>
</header>

<!-- Hero Section for Image or Video -->
<section class="hero-section">
    <div class="hero-overlay">
        <p class="hero-text">Enhancing Your Beauty Journey</p>
    </div>
    <img alt="Hero Image" class="hero-image" src="backgroundImage.png"> <!-- Replace with image path -->
</section>

<!-- Timing and Weather Block -->
<div class="info-container">
    <div id="clockContainer" class="clock-container">
        <p id="sydneyClock">Sydney: --:--:--</p>
        <p id="currentDate">Date: --/--/----</p>
        <p class="motivation" id="motivationQuote">Believe in yourself!</p>
    </div>
    <div class="weather-forecast" id="weatherContainer">
        <h3>Weather in Sydney</h3>
        <p id="weatherDetails">Loading...</p>
    </div>
    <div class="traffic-info" id="parkingInfo">
        <h3>Traffic & Parking Info</h3>
        <p id="trafficDetails">Loading traffic and parking details...</p>
    </div>
    <div class="important-info" id="importantInfoContainer">
        <h3>Important Info</h3>
        <p id="important-info-text">Loading the information...</p>
    </div>
</div>


<!-- Navigation Menu -->
<nav>
    <ul>
        <li><a href="index.html">Home</a></li>
        <li><a href="services.html">Services & Price List</a></li>
        <li><a href="calendar.html">Time Booking</a></li>
        <li><a href="contact.html">Contact</a></li>
    </ul>
</nav>


<!-- Popular Treatments Section -->
<div class="popular-treatments">
    <h2>Our Popular Treatments</h2>
    <div class="treatment-item">
        <div class="treatment-photo">
            <img src="photoalbum/Photo_1.png" alt="Anti-Aging Treatment">
        </div>
        <div class="treatment-description">
            <h3>Anti-Aging Treatment</h3>
            <p>Rediscover your youthful radiance with our advanced anti-aging treatments. Designed to reduce the appearance of wrinkles, fine lines, and sagging skin, these procedures stimulate collagen production, restore elasticity, and rejuvenate your complexion. Using cutting-edge techniques and premium skincare products, we create personalized solutions to help you achieve a smooth, glowing, and revitalized appearance.</p>
        </div>
    </div>
    <div class="treatment-item">
        <div class="treatment-photo">
            <img src="photoalbum/Photo_2.jpg" alt="Acne Therapy">
        </div>
        <div class="treatment-description">
            <h3>Acne Therapy</h3>
            <p>Enjoy the freedom of silky-smooth skin with our precise and painless laser hair removal treatments. Suitable for all skin types, this highly effective procedure targets unwanted hair at the follicle, delivering long-lasting results. Whether for small or large areas, our experienced specialists ensure a comfortable and efficient experience, helping you achieve a flawless finish with minimal downtime.</p>
        </div>
    </div>
    <div class="treatment-item">
        <div class="treatment-photo">
            <img src="photoalbum/Photo_3.png" alt="Laser Hair Removal">
        </div>
        <div class="treatment-description">
            <h3>Laser Hair Removal</h3>
            <p>Achieve silky-smooth skin with our precise and painless laser hair removal treatments, tailored to your unique needs.</p>
        </div>
    </div>
</div>


<!-- Chat Widget -->
<div class="chat-widget">
    <button class="chat-button" onclick="toggleChat()">💬</button>
    <div class="chat-modal" id="chatModal">
        <div class="chat-modal-header">
            <span>Chat with us</span>
            <button class="close-chat" onclick="toggleChat()">✖</button>
        </div>
        <div class="chat-messages" id="chatMessages"></div>
        <div class="chat-input-container">
            <input id="userInput" placeholder="Type a message" type="text">
            <button onclick="sendMessage()">Send</button>
        </div>
    </div>
</div>

<script>
    function toggleChat() {
        document.getElementById('chatModal').classList.toggle('show');
    }

      async function sendMessage() {
    const input = document.getElementById('userInput');
    const message = input.value;
    if (message.trim() === '') return;

    // Display user's message
    const chatMessages = document.getElementById('chatMessages');
    const userMessage = document.createElement('div');
    userMessage.textContent = "You: " + message;
    chatMessages.appendChild(userMessage);
    input.value = '';

    try {
        // Send message to the API
        const response = await fetch('https://apiwebsite-1.onrender.com/api/chat/message', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify({ user_input: message }) // Ensure the key matches your API's expected field
        });

        if (response.ok) {
            const data = await response.json();

            // Debugging: Log the entire response
            console.log("API Response:", data);

      // Display bot's response from the API
            const botMessage = document.createElement('div');

            // Extract the response field from the API response JSON
            const botAnswer = JSON.parse(data.reply).response; // Parse JSON and extract the "response" field

            botMessage.textContent = botAnswer; // Set the bot's answer as the message content
            chatMessages.appendChild(botMessage); // Add the bot's message to the chat
        } else {
            throw new Error(`API returned a non-200 status: ${response.status}`);
        }
    } catch (error) {
        console.error("Error sending message to API:", error);

        // Display an error message in the chat
        const errorMessage = document.createElement('div');
        errorMessage.textContent = "Error: Unable to connect to the chat service. 😥";
        chatMessages.appendChild(errorMessage);
    }
}


    async function updateTime() {
        try {
            const response = await fetch("https://apiwebsite-1.onrender.com/api/time");
            const times = await response.json();
            document.getElementById("sydneyClock").textContent = "SydneyTime: " + times.sydney;
        } catch (error) {
            console.error("Error fetching time data:", error);
        }
    }

    setInterval(updateTime, 1000);
    updateTime();

    // Function to fetch and display the weather with recommendations
async function updateWeather() {
    try {
        const response = await fetch(
            'https://api.weatherapi.com/v1/current.json?key=9ce0e65079f24178bf8143534240112&q=Sydney'
        );
        const data = await response.json();

        // Extract weather details
        const temperature = data.current.temp_c; // Temperature in Celsius
        const description = data.current.condition.text; // Weather description
        const icon = "https:" + data.current.condition.icon; // Full URL for the weather icon
        const windSpeed = data.current.wind_kph; // Wind speed in kph

        // Generate recommendations
        let recommendation = "Have a great day!";
        if (description.toLowerCase().includes("rain")) {
            recommendation = "It might rain! Don't forget to bring an umbrella or a raincoat.";
        } else if (temperature < 15) {
            recommendation = "It's quite cold outside. Wear warm clothes!";
        } else if (windSpeed > 30) {
            recommendation = "It's windy today. Secure your belongings and dress appropriately.";
        }

        // Update weather details on the page
        document.getElementById("weatherDetails").innerHTML = `
            <img src="${icon}" alt="Weather Icon" style="vertical-align: middle; margin-right: 10px;">
            ${description}, ${temperature}°C
        `;
    } catch (error) {
        console.error("Error fetching weather data:", error);
        document.getElementById("weatherDetails").textContent = "Unable to fetch weather data.";
    }
}

// Initial fetch and periodic updates every 5 minutes
updateWeather();
setInterval(updateWeather, 300000); // Update every 5 minutes



// update date
function updateDateTime() {
    const now = new Date();

    // Format time (HH:MM:SS)
    //const time = now.toLocaleTimeString("en-AU", { hour12: false });

    // Format date (DD/MM/YYYY)
    const date = now.toLocaleDateString("en-AU", { day: "2-digit", month: "2-digit", year: "numeric" });

    //document.getElementById("sydneyClock").textContent = `Sydney: ${time}`;
    document.getElementById("currentDate").textContent = `Date: ${date}`;
}

// Update every second for the clock
setInterval(updateDateTime, 1000);
updateDateTime();

    //traffic info
    //exaple json:
    //{
    //"inf": "Currently, George Street has moderate traffic. Parking is available near the CBD with limited spots."
    //}




async function getTrafficAndParkingInfo() {
    try {
        // Fetch parking info from the first API endpoint
        const parkingResponse = await fetch('https://apiwebsite-1.onrender.com/api/freeslots_in_parking');

        if (!parkingResponse.ok) {
            throw new Error(`HTTP error! status: ${parkingResponse.status}`);
        }

        const parkingData = await parkingResponse.json();
        const parkingInfo = parkingData.inf || "No parking information available.";

        // Update the parking info
        document.getElementById("trafficDetails").textContent = parkingInfo;

        // Fetch traffic report from the second API endpoint
        const trafficResponse = await fetch('https://apiwebsite-1.onrender.com/api/trafficReport');

        if (!trafficResponse.ok) {
            throw new Error(`HTTP error! status: ${trafficResponse.status}`);
        }

        const trafficData = await trafficResponse.json();
        const trafficInfo = trafficData.inf || "No traffic information available.";

        // Append traffic report to the same traffic-info box
        const trafficDetails = document.getElementById("trafficDetails");
        const trafficReportElement = document.createElement("p");
        trafficReportElement.textContent = trafficInfo;
        trafficDetails.appendChild(trafficReportElement);

    } catch (error) {
        console.error("Error fetching traffic and parking info:", error);
        document.getElementById("trafficDetails").textContent =
            "Unable to fetch traffic and parking information.";
    }
}

// Call the function on page load
getTrafficAndParkingInfo();

// Optional: Set up periodic updates (e.g., every 5 minutes)
setInterval(getTrafficAndParkingInfo, 300000); // Update every 5 minutes


    // important info section
    document.addEventListener('DOMContentLoaded', () => {
    fetch('https://apiwebsite-1.onrender.com/api/important_info') // Replace with your actual API endpoint
        .then(response => response.json())
        .then(data => {
            const importantInfoText = document.getElementById('important-info-text');
            if (data.info) {
                const sentences = data.info.split('\n');
                importantInfoText.innerHTML = ''; // Clear placeholder text

                sentences.forEach((sentence, index) => {
                    const paragraph = document.createElement('p');
                    paragraph.textContent = sentence.trim(); // Trim whitespace

                    // Add styling for the first and second sentences
                    if (index === 0) {
                        paragraph.style.fontWeight = 'bold';
                        paragraph.style.color = '#00008B'; // Dark blue for the first sentence
                    } else {
                        paragraph.style.color = '#000000'; // Black for the second sentence
                    }
                    paragraph.style.marginBottom = '10px'; // Space between sentences
                    importantInfoText.appendChild(paragraph);
                });
            } else {
                importantInfoText.textContent = 'No important information available at this time.';
            }
        })
        .catch(error => {
            console.error('Error fetching important info:', error);
            document.getElementById('important-info-text').textContent = 'Error loading important information.';
        });
});
</script>

<script>
    //photo Album
    let currentSlide = 0;
    const slides = document.querySelectorAll('.slides img');

    function showSlide(index) {
        slides.forEach((slide, i) => {
            slide.classList.remove('active');
            if (i === index) slide.classList.add('active');
        });
    }

    function nextSlide() {
        currentSlide = (currentSlide + 1) % slides.length;
        showSlide(currentSlide);
    }

    function prevSlide() {
        currentSlide = (currentSlide - 1 + slides.length) % slides.length;
        showSlide(currentSlide);
    }

    // Automatically transition slides every 5 seconds
    setInterval(nextSlide, 5000);

    // Show the first slide on page load
    showSlide(currentSlide);
</script>

<script>
    function displayMotivationalQuote() {
    const quotes = [
        "Make today beautiful!",
        "The journey of a thousand miles begins with a single step.",
        "Every day is a second chance.",
        "Success is not final, failure is not fatal: It is the courage to continue that counts.",
        "Believe you can, and you're halfway there.",
        "Dream big and dare to fail.",
        "Happiness is not by chance, but by choice.",
        "The best way to predict the future is to create it."
    ];

    // Select a random quote
    const randomQuote = quotes[Math.floor(Math.random() * quotes.length)];

    // Update the quote in the HTML
    document.getElementById("motivationQuote").textContent = randomQuote;
}

// Call the function on page load
displayMotivationalQuote();

// Optional: Update the quote every hour
setInterval(displayMotivationalQuote, 3600000); // 1 hour in milliseconds
</script>


</body>
</html>
